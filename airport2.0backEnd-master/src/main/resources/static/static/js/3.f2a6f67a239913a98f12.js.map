{"version":3,"sources":["webpack:///./src/assets/img/bjtu-logo.png","webpack:///./src/assets/img/0001.png","webpack:///src/components/login/Login.vue","webpack:///./src/components/login/Login.vue?7ccb","webpack:///./src/components/login/Login.vue","webpack:///./src/assets/img/0002.png","webpack:///./src/assets/img/0003.png"],"names":["module","exports","__webpack_require__","p","Login","data","_this","this","loginForm","username","password","registerForm","usernames","passwords","checkpasswords","usersTable","ulist","ordinary","loginFormRules","required","message","trigger","min","max","registerFormRules","validator","rule","value","callback","getUsers","i","length","push","j","Error","showlogin","showregister","pictrues","url","imgHeight","fullwidth","document","documentElement","clientWidth","created","watch","val","timer","setTimeout","methods","_this2","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","$axios","method","headers","defineProperty_default","token","window","sessionStorage","Content-type","then","stop","resetLoginForm","$refs","loginFormRef","resetFields","resetregisterForm","registerFormRef","login","_ref","_this3","validate","_callee2","valid","_context2","abrupt","res","code","$message","type","offset","center","duration","$store","commit","rolen","role","usernamen","userName","$router","catch","err","console","log","_x","apply","arguments","register","_this4","re","name","setHeightSize","width","getBodyWidth","_this5","onresize","mounted","_this6","login_Login","render","_vm","_h","$createElement","_c","_self","staticClass","style","_m","_v","on","click","$event","attrs","interval","arrow","height","_l","item","index","key","src","alt","ref","model","rules","prop","prefix-icon","placeholder","$$v","$set","expression","nativeOn","keyup","indexOf","_k","keyCode","_e","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/3.f2a6f67a239913a98f12.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/img/bjtu-logo.e6c954a.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/img/bjtu-logo.png\n// module id = 4prm\n// module chunks = 3","module.exports = __webpack_public_path__ + \"static/img/0001.d9c0c7b.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/img/0001.png\n// module id = 9BCT\n// module chunks = 3","<template>\n  <div class=\"loginContainer\" :style=\"'width:'+fullwidth+'px;'\">\n    <!-- 标题栏 -->\n    <div class=\"header-top\">\n      <div class=\"header-flex\">\n        <div class=\"header-logo\">\n          <img src=\"../../assets/img/bjtu-logo.png\" alt=\"图片\" />\n        </div>\n        <div class=\"header-text\">\n          <span class=\"top-c\">机位分配人员辅助训练系统</span>\n          <br />\n          <span class=\"top-e\">Auxiliary Training System for Aircraft Allocation Personnel</span>\n        </div>\n        <div class=\"top-login\">\n          <span @click=\"showlogin = !showlogin;showregister=false\">登录</span>\n          <span @click=\"showregister = !showregister;showlogin = false\">注册</span>\n        </div>\n      </div>\n    </div>\n    <!-- 走马灯 -->\n    <div class=\"bottom\">\n      <div class=\"carousel\">\n        <el-carousel :interval=\"3000\" arrow=\"always\" :height=\"imgHeight + 'px'\">\n          <el-carousel-item v-for=\"(item,index) in pictrues\" :key=\"index\">\n            <img :src=\"item.url\" alt=\"图片未加载\" />\n          </el-carousel-item>\n        </el-carousel>\n      </div>\n      <div class=\"loginBox\" v-if=\"showlogin\">\n        <!-- 退出登录按钮 -->\n        <div class=\"loginx\" @click=\"showlogin = false\">\n          <i class=\"el-icon-close\"></i>\n        </div>\n        <!-- 标题 -->\n        <div class=\"loginTitle\">\n          <!-- <h2>机场资源调度仿真平台</h2> -->\n          <h2>请输入账号和密码</h2>\n        </div>\n        <!-- 表单 -->\n        <!-- rules数据验证 ref返回实例对象 -->\n        <el-form ref=\"loginFormRef\" :model=\"loginForm\" class=\"loginForm\" :rules=\"loginFormRules\">\n          <!-- 用户名 -->\n          <el-form-item class=\"loginUP\" prop=\"username\">\n            <el-input v-model=\"loginForm.username\" prefix-icon=\"iconfont icon-user\" placeholder=\"用户名\"></el-input>\n          </el-form-item>\n          <!-- 密码 -->\n          <el-form-item class=\"loginUP\" prop=\"password\">\n            <el-input\n              v-model=\"loginForm.password\"\n              prefix-icon=\"iconfont icon-3702mima\"\n              type=\"password\"\n              @keyup.enter.native=\"login\"\n              placeholder=\"密码\"\n            ></el-input>\n          </el-form-item>\n          <!-- 登录和重置 -->\n          <el-form-item class=\"loginBtu\">\n            <el-button type=\"primary\" @click=\"login\">登录</el-button>\n            <el-button type=\"info\" @click=\"resetLoginForm\">重置</el-button>\n          </el-form-item>\n        </el-form>\n      </div>\n\n<!-- ----------------------------------------------------------------------------------------------- -->\n      <!-- 注册注册10/26 -->\n      <div class=\"registerBox\" v-if=\"showregister\">\n        <!-- 退出登录按钮 -->\n        <div class=\"loginx\" @click=\"showregister = false\">\n          <i class=\"el-icon-close\"></i>\n        </div>\n        <!-- 标题 -->\n        <div class=\"registerTitle\">\n          <!-- <h2>机场资源调度仿真平台</h2> -->\n          <h2>用户注册</h2>\n        </div>\n        <!-- 表单 -->\n        <!-- rules数据验证 ref返回实例对象 -->\n        <el-form ref=\"registerFormRef\"  :model=\"registerForm\" class=\"registerForm\" :rules=\"registerFormRules\">\n          <!-- 用户名 -->\n          <el-form-item class=\"registerUP\" prop=\"usernames\">\n            <el-input v-model=\"registerForm.usernames\" placeholder=\"用户名\"></el-input>\n          </el-form-item>\n          <!-- 密码 -->\n          <el-form-item class=\"registerUP\" prop=\"passwords\">\n            <el-input\n              v-model=\"registerForm.passwords\"\n              prefix-icon=\"iconfont icon-3702mima\"\n              type=\"password\"\n              @keyup.enter.native=\"login\"\n              placeholder=\"密码\"\n              class=\"registerinput\"\n            ></el-input>\n          </el-form-item>\n          <!-- 重复密码 -->\n          <el-form-item class=\"registerUP\" prop=\"checkpasswords\">\n            <el-input\n              v-model=\"registerForm.checkpasswords\"\n              prefix-icon=\"iconfont icon-3702mima\"\n              type=\"password\"\n              @keyup.enter.native=\"login\"\n              placeholder=\"重复密码\"\n            ></el-input>\n          </el-form-item>\n          <!-- 登录和重置 -->\n          <el-form-item class=\"loginBtu\">\n            <el-button type=\"primary\" @click=\"register\">注册</el-button>\n            <el-button type=\"info\" @click=\"resetregisterForm\">重置</el-button>\n          </el-form-item>\n        </el-form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    var validatePass = (rule, value, callback) => {\n      // console.log('value:'+value)\n      this.getUsers()\n      // let ulist=[]\n      for(let i=0;i<this.usersTable.length;i++){\n        this.ulist.push(this.usersTable[i].username)\n      }\n      // console.log('ulist:'+this.ulist)\n      for(let j=0;j<this.ulist.length;j++){\n        if(value === this.ulist[j]){\n          callback(new Error('该用户名已被注册，请重新输入'));\n        }\n      }\n      };\n    var validatePass2 = (rule, value, callback) => {\n        // console.log('!!'+value)\n        // console.log('??'+JSON.stringify(this.registerForm.passwords))\n        if (value === '') {\n          callback(new Error('请再次输入密码'));\n        } else if (value !== this.registerForm.passwords) {\n          callback(new Error('两次输入密码不一致!'));\n        } else {\n          callback();\n        }\n      };\n    return {\n      loginForm: {\n        //登录表单的数据绑定对象\n        username: \"\", //用户名\n        password: \"\" //密码\n      },\n    // 10/26\n      registerForm:{\n        //注册表单的数据绑定对象\n        usernames:\"\",\n        passwords:\"\",\n        checkpasswords:\"\"\n      },\n      //存用户数据\n      usersTable:\"\",\n      //存数据库读取到的用户名\n      ulist:[],\n      ordinary:\"ordinary\",\n      //表达数据验证对象\n      loginFormRules: {\n        username: [\n          { required: true, message: \"请输入用户名\", trigger: \"blur\" },\n          { min: 0, max: 10, message: \"长度为0~10个字符\", trigger: \"blur\" }\n        ],\n        password: [\n          { required: true, message: \"请输入登录密码\", trigger: \"blur\" },\n          { min: 6, max: 10, message: \"长度为6~10个字符\", trigger: \"blur\" }\n        ]\n      },\n      //注册表单数据验证对象10/26\n      registerFormRules: {\n        usernames: [\n          { required: true, message: \"请输入用户名\", trigger: \"blur\" },\n          { min: 0, max: 10, message: \"长度为0~10个字符\", trigger: \"blur\" },\n          {validator: validatePass,trigger: \"blur\" }\n        ],\n        passwords: [\n          { required: true, message: \"请输入登录密码\", trigger: \"blur\"},\n          { min: 6, max: 10, message: \"长度为6~10个字符\", trigger: \"blur\" }\n        ],\n        checkpasswords: [\n          // { required: true, message: \"请输入重复登录密码\", trigger: \"blur\"},\n          { min: 6, max: 10, message: \"长度为6~10个字符\", trigger: \"blur\" },\n          {validator: validatePass2,trigger: \"blur\" }\n        ]\n      },\n      // 控制登录表单是否显示\n      showlogin: false,\n      // 控制注册表单是否显示10/26\n      showregister:false,\n      // 图片的地址\n      pictrues: [\n        {\n          url: require(\"../../assets/img/0001.png\")\n        },\n        {\n          url: require(\"../../assets/img/0002.png\")\n        },\n        {\n          url: require(\"../../assets/img/0003.png\")\n        }\n      ],\n      // 动态设置图片宽度\n      imgHeight: \"\",\n\n      // 屏幕宽度\n      fullwidth: document.documentElement.clientWidth\n    };\n  },\n  created(){\n    this.getUsers()\n  },\n  watch:{\n    fullwidth: function(val) {\n      if(!this.timer){\n        this.fullwidth = val\n        this.timer = true\n        setTimeout(function () {\n          this.timer = false\n        },400)\n      }\n    }\n  },\n  methods: {\n    // 发送请求-获取用户数据\n    async getUsers() {\n      await this.$axios({\n        method: \"get\",\n        // 跨域调用\n        url: \"http://localhost:8866/user/selectAllUsers\",\n        headers: {\n          token: window.sessionStorage.token,\n          \"Content-type\": \"x-www-form-urlencoded;charset=UTF-8\",\n          \"Content-type\": \"application/json\"\n        }\n      }).then(data => {\n        // 将数据保存到本地中\n        this.usersTable = data.data;\n        // console.log('//'+JSON.stringify(this.usersTable));\n      });\n    },\n    resetLoginForm() {\n      //点击按钮，重置表单\n      //this.$refs.loginFormRef调用实例对象\n      this.$refs.loginFormRef.resetFields();\n    },\n    resetregisterForm(){\n      this.$refs.registerFormRef.resetFields();\n    },\n    login() {\n      let username = this.loginForm.username;\n      let password = this.loginForm.password;\n      //登录校验\n      this.$refs.loginFormRef.validate(async valid => {\n        if (!valid) return; //如果false不发送请求\n        //如果校验通过，则发送请求\n        await this.$axios({\n          method: \"post\",\n          url: `http://localhost:8866/user/login?username=${username}&password=${password}`,\n          headers: {\n            \"Content-type\": \"x-www-form-urlencoded;charset=UTF-8\",\n            \"Content-type\": \"application/json\"\n          }\n        })\n          .then(res => {\n            //使用res接受返回数据\n            //判断是否登录成功\n            // 使用返回的code判断\n            // console.log(res);\n            if (res.data.code !== 10000) {\n              return this.$message({\n                message: \"用户名或密码错误，登录失败！\",\n                type: \"error\",\n                offset: 100,\n                center: true,\n                duration: 2000,\n                // zIndex:5,\n                // position:absolute,\n              });\n            } else {\n              // 登录成功\n              this.$message({\n                message: \"登录成功！\",\n                type: \"success\",\n                offset: 300,\n                center: true,\n                duration: 1000\n              });\n              // 1.保存token 角色和用户名\n              let token = res.data.data.token;\n              this.$store.commit(\"set_token\", token);\n              let rolen = res.data.data.role;\n              this.$store.commit(\"set_role\", rolen);\n              let usernamen = res.data.data.userName;\n              this.$store.commit(\"set_username\", usernamen);\n              //2.通过编程式导航跳转页面，地址/home\n              this.$router.push(\"/flightData\");\n              this.showregister=false\n            }\n          })\n          .catch(err => {\n            // 出现异常，打印错误\n             console.log(err);\n          });\n      });\n    },\n\n    // 10/26注册按钮\n    register(){\n      let re={\n        username:this.registerForm.usernames,\n        password:this.registerForm.passwords,\n        // checkpasswords:this.registerForm.checkpasswords,\n        name:this.ordinary\n      }\n      if(this.registerForm.checkpasswords === this.registerForm.passwords) {\n              // console.log('密码：'+this.registerForm.passwords+'chongdu:'+this.registerForm.checkpasswords)\n              this.$axios({\n                  method: \"post\",\n                  url: \"http://localhost:8866/user/insertUser\",\n                  data: re,\n                  headers: {\n                    token: window.sessionStorage.token,\n                    \"Content-type\": \"x-www-form-urlencoded;charset=UTF-8\",\n                    \"Content-type\": \"application/json\"\n                  }\n                }).then(() => {\n                  //   // 关闭对话框\n                  this.showregister = false;\n                  this.showlogin=true\n                });\n      }\n\n    },\n    // 动态设置图片宽度\n    setHeightSize: function() {\n      // console.log(window.innerWidth);\n      let width = document.documentElement.clientWidth;\n      // console.log(width);\n      this.imgHeight = (722 / 1365) * width;\n      // let hight = document.documentElement.clientHeight;\n      // console.log(hight);\n      // this.imgHeight\n\n    },\n    getBodyWidth(){\n      window.onresize = () => {\n      return (()=>{\n        window.fullwidth = document.documentElement.clientWidth\n        this.fullwidth = window.fullwidth\n      })\n    };\n    }\n  },\n  mounted() {\n    this.getBodyWidth();\n    this.setHeightSize();\n    window.onresize = () => {\n      this.setHeightSize();\n    };\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n// .registerinput{\n//   margin-left: 50px;;\n// }\n.loginContainer {\n  // background: url(../../../static/img/bg2.jpg);\n  // background-repeat: no-repeat;\n  // background-position: center;\n  height: 100%;\n  .header-top {\n    width: 100%;\n    height: 90px;\n    z-index: 99999;\n    background: url(../../assets/img/top2.png);\n    background-repeat: repeat-x;\n    background-position: center;\n    position: absolute;\n    left: 0;\n    top: 0;\n    .header-flex {\n      display: flex;\n      justify-content: right;\n      align-items: center;\n      padding-top: 20px;\n      margin-left: 40px;\n      // margin-top: 10px;\n      color: white;\n      .header-logo {\n        img {\n          height: 60px;\n          width: 60px;\n        }\n      }\n      .header-text {\n        margin-left: 10px;\n        // margin-top: 10px;\n        .top-c {\n          font-size: 32px;\n        }\n        .top-e {\n          font-size: 14px;\n        }\n      }\n      .top-login {\n        margin-left: 56%;\n        font-size: 18px;\n      }\n    }\n  }\n  .bottom {\n    position: relative;\n    top: -80px;\n    left: 0px;\n    // margin-top: -80px;\n    // z-index: -1;\n    // width: 100%;\n    img {\n      width: 100%;\n      // height: 100%;\n    }\n    // .el-carousel__item h3 {\n    //   color: #475669;\n    //   font-size: 18px;\n    //   opacity: 0.75;\n    //   line-height: 300px;\n    //   margin: 0;\n    // }\n    // .el-carousel__item:nth-child(2n) {\n    //   background-color: #99a9bf;\n    // }\n\n    // .el-carousel__item:nth-child(2n + 1) {\n    //   background-color: #d3dce6;\n    // }\n    .loginBox {\n      z-index: 9999999;\n      height: 50%;\n      width: 500px;\n      background: url(../../../static/img/bg4.png);\n      border-radius: 3px; //圆角边框\n      //居中显示\n      position: absolute;\n      left: 50%;\n      top: 50%;\n      //位移到正中间\n      transform: translate(-50%, -50%);\n    }\n    //10/26\n    .registerBox{\n      z-index: 9999999;\n      height: 50%;\n      width: 500px;\n      background: url(../../../static/img/bg4.png);\n      border-radius: 3px; //圆角边框\n      //居中显示\n      position: absolute;\n      left: 50%;\n      top: 50%;\n      //位移到正中间\n      transform: translate(-50%, -50%);\n    }\n    .loginx {\n      position: absolute;\n      left: 93%;\n      top: 5%;\n    }\n    .loginTitle h2 {\n      position: absolute;\n      font-size: 30px;\n      left: 25%;\n      top: 20%;\n      color: white;\n    }\n    //10/26\n    .registerTitle{\n      position: absolute;\n      font-size: 30px;\n      left: 36%;\n      top: 19%;\n      color: white;\n    }\n    .loginForm {\n      position: absolute;\n      top: 35%;\n      width: 100%;\n      padding: 0px 90px;\n      box-sizing: border-box;\n      opacity: 1;\n      .loginBtu {\n        display: flex;\n        justify-content: flex-end;\n      }\n    }\n    .registerForm{\n      position: absolute;\n      top: 35%;\n      width: 100%;\n      padding: 0px 90px;\n      box-sizing: border-box;\n      opacity: 1;\n      .loginBtu {\n        display: flex;\n        justify-content: flex-end;\n      }\n    }\n  }\n}\n</style>\n<style scoped>\n.el-input__inner {\n  margin-bottom: 0px !important;\n}\n.el-input--prefix .el-input__inner {\n  padding-left: 15px;\n}\n</style>\n\n<style scoped>\n.el-carousel__arrow {\n  height: 100px;\n  width: 100px;\n  /* background-color:white; */\n  /* background: white; */\n  opacity: 1;\n}\n.el-carousel__arrow:focus {\n  /* 点击后边框会消失 */\n  outline: none;\n}\n.el-form{\n  position: absolute;\n  z-index: 3\n}\n.el-message{\n  position:absolute;\n  z-index: 9999999999999999 !important\n}\n.loginContainer .bottom[data-v-08b4fdc3] {\n    position: relative;\n    top: -50px;\n    left: 0px;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/login/Login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"loginContainer\",style:('width:'+_vm.fullwidth+'px;')},[_c('div',{staticClass:\"header-top\"},[_c('div',{staticClass:\"header-flex\"},[_vm._m(0),_vm._v(\" \"),_vm._m(1),_vm._v(\" \"),_c('div',{staticClass:\"top-login\"},[_c('span',{on:{\"click\":function($event){_vm.showlogin = !_vm.showlogin;_vm.showregister=false}}},[_vm._v(\"登录\")]),_vm._v(\" \"),_c('span',{on:{\"click\":function($event){_vm.showregister = !_vm.showregister;_vm.showlogin = false}}},[_vm._v(\"注册\")])])])]),_vm._v(\" \"),_c('div',{staticClass:\"bottom\"},[_c('div',{staticClass:\"carousel\"},[_c('el-carousel',{attrs:{\"interval\":3000,\"arrow\":\"always\",\"height\":_vm.imgHeight + 'px'}},_vm._l((_vm.pictrues),function(item,index){return _c('el-carousel-item',{key:index},[_c('img',{attrs:{\"src\":item.url,\"alt\":\"图片未加载\"}})])}),1)],1),_vm._v(\" \"),(_vm.showlogin)?_c('div',{staticClass:\"loginBox\"},[_c('div',{staticClass:\"loginx\",on:{\"click\":function($event){_vm.showlogin = false}}},[_c('i',{staticClass:\"el-icon-close\"})]),_vm._v(\" \"),_vm._m(2),_vm._v(\" \"),_c('el-form',{ref:\"loginFormRef\",staticClass:\"loginForm\",attrs:{\"model\":_vm.loginForm,\"rules\":_vm.loginFormRules}},[_c('el-form-item',{staticClass:\"loginUP\",attrs:{\"prop\":\"username\"}},[_c('el-input',{attrs:{\"prefix-icon\":\"iconfont icon-user\",\"placeholder\":\"用户名\"},model:{value:(_vm.loginForm.username),callback:function ($$v) {_vm.$set(_vm.loginForm, \"username\", $$v)},expression:\"loginForm.username\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"loginUP\",attrs:{\"prop\":\"password\"}},[_c('el-input',{attrs:{\"prefix-icon\":\"iconfont icon-3702mima\",\"type\":\"password\",\"placeholder\":\"密码\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.login($event)}},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"loginBtu\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.login}},[_vm._v(\"登录\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"info\"},on:{\"click\":_vm.resetLoginForm}},[_vm._v(\"重置\")])],1)],1)],1):_vm._e(),_vm._v(\" \"),(_vm.showregister)?_c('div',{staticClass:\"registerBox\"},[_c('div',{staticClass:\"loginx\",on:{\"click\":function($event){_vm.showregister = false}}},[_c('i',{staticClass:\"el-icon-close\"})]),_vm._v(\" \"),_vm._m(3),_vm._v(\" \"),_c('el-form',{ref:\"registerFormRef\",staticClass:\"registerForm\",attrs:{\"model\":_vm.registerForm,\"rules\":_vm.registerFormRules}},[_c('el-form-item',{staticClass:\"registerUP\",attrs:{\"prop\":\"usernames\"}},[_c('el-input',{attrs:{\"placeholder\":\"用户名\"},model:{value:(_vm.registerForm.usernames),callback:function ($$v) {_vm.$set(_vm.registerForm, \"usernames\", $$v)},expression:\"registerForm.usernames\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"registerUP\",attrs:{\"prop\":\"passwords\"}},[_c('el-input',{staticClass:\"registerinput\",attrs:{\"prefix-icon\":\"iconfont icon-3702mima\",\"type\":\"password\",\"placeholder\":\"密码\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.login($event)}},model:{value:(_vm.registerForm.passwords),callback:function ($$v) {_vm.$set(_vm.registerForm, \"passwords\", $$v)},expression:\"registerForm.passwords\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"registerUP\",attrs:{\"prop\":\"checkpasswords\"}},[_c('el-input',{attrs:{\"prefix-icon\":\"iconfont icon-3702mima\",\"type\":\"password\",\"placeholder\":\"重复密码\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.login($event)}},model:{value:(_vm.registerForm.checkpasswords),callback:function ($$v) {_vm.$set(_vm.registerForm, \"checkpasswords\", $$v)},expression:\"registerForm.checkpasswords\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"loginBtu\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.register}},[_vm._v(\"注册\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"info\"},on:{\"click\":_vm.resetregisterForm}},[_vm._v(\"重置\")])],1)],1)],1):_vm._e()])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header-logo\"},[_c('img',{attrs:{\"src\":require(\"../../assets/img/bjtu-logo.png\"),\"alt\":\"图片\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header-text\"},[_c('span',{staticClass:\"top-c\"},[_vm._v(\"机位分配人员辅助训练系统\")]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('span',{staticClass:\"top-e\"},[_vm._v(\"Auxiliary Training System for Aircraft Allocation Personnel\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"loginTitle\"},[_c('h2',[_vm._v(\"请输入账号和密码\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"registerTitle\"},[_c('h2',[_vm._v(\"用户注册\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-1e077670\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/login/Login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1e077670\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./Login.vue\")\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1e077670\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=1!./Login.vue\")\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1e077670\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=2!./Login.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./Login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./Login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1e077670\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./Login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1e077670\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/login/Login.vue\n// module id = null\n// module chunks = ","module.exports = __webpack_public_path__ + \"static/img/0002.34975f6.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/img/0002.png\n// module id = hObQ\n// module chunks = 3","module.exports = __webpack_public_path__ + \"static/img/0003.4c4da4b.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/img/0003.png\n// module id = orJ4\n// module chunks = 3"],"sourceRoot":""}